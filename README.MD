# UrbanGrow - ì‹¤ë‚´ ì‹ë¬¼ ê´€ë¦¬ AI ì• í”Œë¦¬ì¼€ì´ì…˜

## í”„ë¡œì íŠ¸ ê°œìš”

UrbanGrowëŠ” ì‹¤ë‚´ ì‹ë¬¼ ê´€ë¦¬ë¥¼ ë•ëŠ” í†µí•© í”Œë«í¼ì…ë‹ˆë‹¤. AI ì±—ë´‡ê³¼ ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ ìŒì„± í•©ì„±(TTS)ì„ í†µí•´ ì‚¬ìš©ì ì¹œí™”ì ì¸ ì‹ë¬¼ ê´€ë¦¬ ì¡°ì–¸ì„ ì œê³µí•©ë‹ˆë‹¤.

---

## ê¸°ìˆ  ìŠ¤íƒ

### Frontend (í¬íŠ¸ 5173)
- **React 19.0.0** - UI í”„ë ˆì„ì›Œí¬
- **Vite 6.3.5** - ë¹Œë“œ ë„êµ¬ ë° ê°œë°œ ì„œë²„
- **React Router 7.5.3** - í´ë¼ì´ì–¸íŠ¸ ë¼ìš°íŒ…
- **Axios 1.9.0** - HTTP í´ë¼ì´ì–¸íŠ¸
- **React Icons 5.5.0** - ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **React DatePicker 8.3.0** - ë‚ ì§œ ì„ íƒ ì»´í¬ë„ŒíŠ¸

### Backend (í¬íŠ¸ 3000)
- **Node.js LTS** - ëŸ°íƒ€ì„ í™˜ê²½
- **Express 5.1.0** - ì›¹ í”„ë ˆì„ì›Œí¬
- **MySQL2 3.14.0** - ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„
- **JWT 9.0.2** - í† í° ê¸°ë°˜ ì¸ì¦ (jsonwebtoken)
- **bcrypt 6.0.0** - ë¹„ë°€ë²ˆí˜¸ í•´ì‹± (salt rounds: 10)
- **CORS 2.8.5** - êµì°¨ ì¶œì²˜ ìš”ì²­ ë¯¸ë“¤ì›¨ì–´
- **dotenv 16.5.0** - í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

### TTS Server (í¬íŠ¸ 5001)
- **Python 3.11+** - ëŸ°íƒ€ì„ í™˜ê²½
- **FastAPI 0.121.3** - ë¹„ë™ê¸° ì›¹ í”„ë ˆì„ì›Œí¬
- **Uvicorn 0.38.0** - ASGI ì„œë²„
- **Edge TTS 7.2.3** - Microsoft í…ìŠ¤íŠ¸-ìŒì„± ë³€í™˜
  - í•œêµ­ì–´ ì§€ì›: SunHiNeural(ì—¬ì„±), InJoonNeural(ë‚¨ì„±)
  - ì†ë„ ì¡°ì ˆ: 0.5ë°° ~ 1.5ë°°

### Database (í¬íŠ¸ 3306)
- **MySQL 8.0+**
- **ë¬¸ì ì¸ì½”ë”©**: utf8mb4

---

## ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

```sql
CREATE DATABASE urban_grow DEFAULT CHARSET=utf8mb4;
USE urban_grow;

CREATE TABLE users (
    id INT PRIMARY KEY AUTO_INCREMENT,
    email VARCHAR(100) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    nickname VARCHAR(50) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE user_levels (
    user_id INT PRIMARY KEY,
    level INT DEFAULT 1,
    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

CREATE TABLE watering_history (
    id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT NOT NULL,
    watered_time DATETIME,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

CREATE TABLE chat_history (
    id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT NOT NULL,
    message TEXT,
    reply TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
```

---

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
urban_grow_project/
â”œâ”€â”€ frontend/                 # React í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.jsx          # ë¼ìš°íŒ… ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ MainPage.jsx     # AI ì±—ë´‡ í†µí•© ë©”ì¸
â”‚   â”‚   â”œâ”€â”€ Search.jsx       # ì±„ì†Œ ì •ë³´ ê²€ìƒ‰ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ Plantdiary.jsx   # ì‹ë¬¼ ì¼ì§€
â”‚   â”‚   â”œâ”€â”€ Community.jsx    # ì»¤ë®¤ë‹ˆí‹°
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â”œâ”€â”€ backend/                  # Express ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ app.js               # ë©”ì¸ ì•± íŒŒì¼
â”‚   â”œâ”€â”€ db.js                # DB ì—°ê²°
â”‚   â”œâ”€â”€ controllers/         # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ routes/              # API ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ TTS/                      # Python FastAPI ì„œë²„
â”‚   â”œâ”€â”€ app.py               # Edge TTS ì—”ë“œí¬ì¸íŠ¸
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ ...
â””â”€â”€ README.md
```

---

## ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•

### 1. Frontend ì„¤ì •
```bash
cd frontend
npm install
npm run dev
```
ì ‘ì†: `http://localhost:5173`

### 2. Backend ì„¤ì •
```bash
cd backend
npm install
npm start
```
ì„œë²„: `http://localhost:3000`

### 3. TTS Server ì„¤ì •
```bash
cd TTS
python -m venv .venv
.venv\Scripts\activate  # Windows
# source .venv/bin/activate  # macOS/Linux

pip install -r requirements.txt
uvicorn app:app --reload --port 5001
```
TTS API: `http://localhost:5001`

### 4. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
```bash
mysql -u root -p
```
ìœ„ì˜ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ SQLì„ ì‹¤í–‰í•˜ì„¸ìš”.

---

### 5. í†µí•© ì‹¤í–‰
```
npm run dev

```
---
## API ì—”ë“œí¬ì¸íŠ¸

### ì¸ì¦ API
- `POST /api/auth/register` - íšŒì›ê°€ì…
- `POST /api/auth/login` - ë¡œê·¸ì¸
- `POST /api/auth/logout` - ë¡œê·¸ì•„ì›ƒ

### ì±„íŒ… API
- `POST /api/chat` - AI ì±—ë´‡ì— ë©”ì‹œì§€ ì „ì†¡
- `GET /api/chat/history` - ì±„íŒ… ì´ë ¥ ì¡°íšŒ

### TTS API (Python)
- `POST /tts` - í•œêµ­ì–´ ìŒì„± í•©ì„±

**ìš”ì²­ í˜•ì‹**:
```json
{
  "text": "ì•ˆë…•í•˜ì„¸ìš”",
  "speaker_id": 0,
  "speed": 1.0
}
```

**ì‘ë‹µ**: MP3 ì˜¤ë””ì˜¤ blob (Content-Type: audio/mpeg)

**íŒŒë¼ë¯¸í„°**:
- `text` (string): ìŒì„±ìœ¼ë¡œ ë³€í™˜í•  í•œêµ­ì–´ í…ìŠ¤íŠ¸
- `speaker_id` (int): 0 = ì—¬ì„±(SunHiNeural), 1 = ë‚¨ì„±(InJoonNeural)
- `speed` (float): ì†ë„ ë°°ìœ¨ (0.5 ~ 1.5)

---

## ì£¼ìš” ê¸°ëŠ¥

### 1. AI ì±—ë´‡ (MainPage)
- Gemini API ê¸°ë°˜ ì§€ëŠ¥í˜• ì‹ë¬¼ ê´€ë¦¬ ì¡°ì–¸
- Edge TTSë¥¼ í†µí•œ ìë™ í•œêµ­ì–´ ìŒì„± ì¬ìƒ
- ì±„íŒ… ì´ë ¥ ì €ì¥

### 2. ì‹ë¬¼ ë‹¤ì´ì–´ë¦¬ (Plantdiary)
- ì‹ë¬¼ ìƒíƒœ ê¸°ë¡
- ë¬¼ì£¼ê¸° ê´€ë¦¬
- ì„±ì¥ ì¶”ì 

### 3. ì±„ì†Œ ì •ë³´ ê²€ìƒ‰ (Search)
- 5ê°€ì§€ ì±„ì†Œ ì •ë³´:
  - ğŸŒ± í‚¤ìš°ëŠ” ë°©ë²•
  - â° ìë¼ëŠ” ì‹œê¸°
  - ğŸ’§ ë¬¼ì£¼ëŠ” ë°©ë²•
  - ğŸŒ¾ ìˆ˜í™• ì‹œê¸°

### 4. ì»¤ë®¤ë‹ˆí‹°
- ì‹ë¬¼ ê´€ë ¨ ê²Œì‹œë¬¼ ê³µìœ 
- ì§ˆë¬¸/ë‹µë³€ í¬ëŸ¼
- ì‚¬ìš©ì ìƒí˜¸ì‘ìš©

### 5. ì‚¬ìš©ì ê³„ì • ê´€ë¦¬
- íšŒì›ê°€ì…/ë¡œê·¸ì¸
- í”„ë¡œí•„ ì„¤ì •
- ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
- íšŒì›íƒˆí‡´

---

## ë¼ìš°íŒ… ê²½ë¡œ (kebab-case í†µì¼)

| ê²½ë¡œ | ì„¤ëª… |
|------|------|
| `/` | ë¡œê·¸ì¸ í˜ì´ì§€ |
| `/signup` | íšŒì›ê°€ì… í˜ì´ì§€ |
| `/main` | ë©”ì¸ í˜ì´ì§€ (AI ì±—ë´‡) |
| `/plant-diary` | ì‹ë¬¼ ì¼ì§€ |
| `/search` | ì±„ì†Œ ì •ë³´ ê²€ìƒ‰ |
| `/community` | ì»¤ë®¤ë‹ˆí‹° |
| `/create-post` | ê²Œì‹œë¬¼ ì‘ì„± |
| `/faq` | ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ |
| `/information` | ì„¤ì • í˜ì´ì§€ |

---

## í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

### Backend (.env)
```
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=urban_grow
DB_PORT=3306

JWT_SECRET=your_jwt_secret_key
GEMINI_API_KEY=your_gemini_api_key
```

---

## ë¬¸ì œ í•´ê²°

### TTS ì†Œë¦¬ê°€ ì•ˆ ë‚˜ì˜¬ ë•Œ
- Edge TTS ì†ë„ íŒŒë¼ë¯¸í„° í˜•ì‹ í™•ì¸: `"+0%"`, `"-50%"` (ë¬¸ìì—´ í•„ìˆ˜)
- ìŒì„± ID í™•ì¸: 0(ì—¬ì„±), 1(ë‚¨ì„±)
- ë¸Œë¼ìš°ì € ìŒì†Œê±° í•´ì œ
- TTS ì„œë²„ í¬íŠ¸ 5001 ì‹¤í–‰ í™•ì¸

### ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨
- MySQL ì‹¤í–‰ í™•ì¸: `mysql -u root -p`
- `.env` íŒŒì¼ ì„¤ì • í™•ì¸
- utf8mb4 ì¸ì½”ë”© ì„¤ì • í™•ì¸

### CORS ì—ëŸ¬
- Backend CORS í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ í™•ì¸
- Frontend URLì´ `http://localhost:5173` ì¸ì§€ í™•ì¸

### ë¡œê·¸ì¸ ì‹¤íŒ¨
- JWT í† í° ë°œê¸‰ í™•ì¸
- ë¹„ë°€ë²ˆí˜¸ í•´ì‹± ì•Œê³ ë¦¬ì¦˜ í™•ì¸ (bcrypt 10 rounds)
- ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— í† í° ì €ì¥ í™•ì¸

---

## ì˜ì¡´ì„± ê´€ë¦¬

ê° ë””ë ‰í† ë¦¬ì˜ `requirements.txt` ì°¸ê³ :
- `frontend/requirements.txt` - React/Vite íŒ¨í‚¤ì§€
- `backend/requirements.txt` - Node.js íŒ¨í‚¤ì§€
- `TTS/requirements.txt` - Python íŒ¨í‚¤ì§€ (FastAPI, Edge TTS)

---

## ê¸°ì—¬ ê°€ì´ë“œ

1. Fork ì €ì¥ì†Œ
2. Feature ë¸Œëœì¹˜ ìƒì„±: `git checkout -b feature/AmazingFeature`
3. ë³€ê²½ì‚¬í•­ ì»¤ë°‹: `git commit -m 'Add some AmazingFeature'`
4. ë¸Œëœì¹˜ Push: `git push origin feature/AmazingFeature`
5. Pull Request ìƒì„±

---

## ìµœì¢… ì—…ë°ì´íŠ¸

- **ë§ˆì§€ë§‰ ìˆ˜ì •**: 2024ë…„ 11ì›” 23ì¼
- **TTS ì—”ì§„**: Edge TTS (Microsoft)
- **í•œêµ­ì–´ ì§€ì›**: ì™„ë²½ ì§€ì› (ìŒì„± í•©ì„±, í…ìŠ¤íŠ¸ ì²˜ë¦¬)